<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:local="clr-namespace:LoginApp.Maui"
             x:Class="LoginApp.Maui.ViewsKoordinator.AkunAsistenDosen"
             Title="Daftar Akun Asisten Dosen"
             BackgroundColor="#f0f2f5">

    <ScrollView>
    <VerticalStackLayout Padding="50,20" Spacing="15">
        <!-- Form Tambah Akun -->
        <Frame BackgroundColor="White"
           CornerRadius="12"
           Padding="20"
           HasShadow="True">
            <VerticalStackLayout Spacing="10">

                <Label Text="Buat Akun Asisten Dosen"
                   FontSize="22"
                   FontAttributes="Bold"
                   TextColor="Black"
                   HorizontalOptions="Center" />

                <!-- Username -->
                <Entry x:Name="UsernameEntry"
                   Placeholder="Masukkan Username (NIM)"
                   FontSize="18"
                   TextColor="Black"
                   BackgroundColor="#f5f5f5"
                   />

                <!-- Nama -->
                <Entry x:Name="NameEntry"
                   Placeholder="Masukkan Nama Lengkap"
                   FontSize="18"
                   TextColor="Black"
                   BackgroundColor="#f5f5f5"
                   />

                <!-- Password -->
                <Entry x:Name="PasswordEntry"
                   Placeholder="Masukkan Password"
                   IsPassword="True"
                   FontSize="18"
                   TextColor="Black"
                   BackgroundColor="#f5f5f5"
                   />

                <!-- Tombol Simpan -->
                <Button Text="Tambah Akun"
                    BackgroundColor="#662382"
                    TextColor="White"
                    CornerRadius="8"
                    FontAttributes="Bold"
                    Clicked="OnTambahAkunClicked"/>
            </VerticalStackLayout>
        </Frame>


        <HorizontalStackLayout Spacing="12" HorizontalOptions="Center" Margin="0,10">
            <!-- Label Tahun Akademik -->
            <Label Text="Tahun Akademik"
            FontSize="30"
            FontAttributes="Bold"
            VerticalTextAlignment="Center"
            TextColor="Black" />

            <!-- Tombol Pilih Semester -->
            <Button Text="{Binding SelectedSemesterText}"
            Clicked="OnToggleDropdownClicked"
            BackgroundColor="#dddddd"
            FontAttributes="Bold"
            FontSize="20"
            WidthRequest="200" />

        </HorizontalStackLayout>

        <!-- Dropdown -->
        <CollectionView x:Name="SemesterDropdown"
                    IsVisible="{Binding IsDropdownVisible}"
                    SelectionMode="Single"
                    ItemsSource="{Binding SemesterList}"
                    SelectionChanged="OnSemesterSelected"
                    ItemsLayout="VerticalList"
                    BackgroundColor="#eeeeee"
                    Margin="0,10"
                    WidthRequest="300">
            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <Frame Padding="8" Margin="4" CornerRadius="6" BackgroundColor="Grey" HasShadow="True">
                        <Label Text="{Binding}" HorizontalOptions="Center" TextColor="White" />
                    </Frame>
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>


        <!-- Header Tabel -->
        <Grid ColumnDefinitions="2*,2*" Padding="8" BackgroundColor="#eeeeee">
            <Label Grid.Column="0" Text="Username" FontAttributes="Bold" FontSize="20" TextColor="Black" />
            <Label Grid.Column="1" Text="Nama Asisten Dosen" FontAttributes="Bold" FontSize="20" TextColor="Black" />
        </Grid>

        <!-- Baris Data -->
        <CollectionView x:Name="AsistenList" ItemsLayout="VerticalList">
            <CollectionView.EmptyView>
                <Label Text="Belum ada akun asisten dosen"
                       HorizontalOptions="Center"
                       VerticalOptions="Center"
                       TextColor="Gray"
                       FontAttributes="Italic"
                       FontSize="14" />
            </CollectionView.EmptyView>

            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <Grid ColumnDefinitions="2*,2*" Padding="8" BackgroundColor="White">
                        <Label Grid.Column="0" Text="{Binding Username}" FontSize="20" TextColor="Black" />
                        <Label Grid.Column="1" Text="{Binding Name}" FontSize="20" TextColor="Black" />

                    </Grid>
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>

    </VerticalStackLayout>
    </ScrollView>
</ContentPage>
